{%- liquid
  assign dot_count = section.blocks.size

  if block_id
    assign dot_count = 0
  endif

  if slide_1_desktop_image != blank or slide_1_mobile_image != blank
    assign dot_count = dot_count | plus: 1
  endif

  if slide_2_desktop_image != blank or slide_2_mobile_image != blank
    assign dot_count = dot_count | plus: 1
  endif
-%}
<div
  class="slideshow{% if section.settings.image_aspect == 'original' %} slideshow--unconstrained{% endif %}"
  data-section-id="{{ section.id }}"
  data-section-type="slideshow"
  style="
    --desktop-height: {{  section.settings.desktop_height }}vh;
    --color-dot: {{ section.settings.color_dot }};

  "
>
  <div
    class="slideshow__slides is-hidden"
    data-slider
    data-autoplay="{{ section.settings.duration_autoplay | times: 1000 }}"
  >
    {%- for block in section.blocks -%}
      {%- render 'slideshow-item' with
        block: block,
        forloop: forloop,

        image_aspect: section.settings.image_aspect,
        desktop_image: block.settings.desktop_image,
        mobile_image: block.settings.mobile_image,
        focal_point: block.settings.focal_point,
        mobile_focal_point: block.settings.mobile_focal_point,
        alignment: block.settings.alignment,
		alignment_mobile: block.settings.alignment_mobile,
    
    	header_alignment: block.settings.header_alignment,
    	subheader_alignment: block.settings.subheader_alignment,
        header_alignment_mobile: block.settings.header_alignment_mobile,
    	subheader_alignment_mobile: block.settings.subheader_alignment_mobile,
        heading_text_size_mobile: block.settings.heading_text_size_mobile,
        header_margin_bottom: block.settings.header_margin_bottom,
        subheader_margin_bottom: block.settings.subheader_margin_bottom,
      	with_bottom: block.settings.with_bottom,
    
        heading: block.settings.title,
        subheading: block.settings.subheading,
        link: block.settings.link,
        link_text: block.settings.link_text,

        max_width_subheading: block.settings.max_width_subheading,
        heading_text_size: block.settings.heading_text_size,
        description_text_size: block.settings.description_text_size,
        description_text_size_mobile: block.settings.description_text_size_mobile,
        overlay_shadow: block.settings.overlay_shadow,
        color_text: block.settings.color_text,
        color_text_button: block.settings.color_text_button,
        color_background_button: block.settings.color_background_button,
        button_border-radius: block.settings.button_border-radius,
        button_alignment: block.settings.button_alignment,
        button_alignment_mobile: block.settings.button_alignment_mobile,
        color_overlay: block.settings.color_overlay,
        overlay_opacity: block.settings.overlay_opacity,
    	with_animation: block.settings.with_animation,
    	color_background: block.settings.gradient_background,
    	color_background_button_under_image: block.settings.color_background_button_under_image,
    	display_under_image:block.settings.display_under_image
    	color_button_under_image: block.settings.color_button_under_image,
    	color_text_under_image: block.settings.color_text_under_image
    	
      -%}
    
    {%- endfor -%}
  </div>

  {%- render 'navigation-dots' with dot_count: dot_count -%}
  <script async type="text/javascript" src="https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=LKpY5Y"></script>

</div>
{% schema %}
  {
    "name": "Enrollment-image-hero",
    "tag": "section",
    "class": "shopify-section--stackable shopify-section--contrast offset-section",
    "settings": [
      {
        "type": "radio",
        "id": "image_aspect",
        "label": "t:sections.slideshow.settings.image_aspect.label",
        "options": [
          { "value": "custom", "label": "t:sections.slideshow.settings.image_aspect.option_1" },
          { "value": "original", "label": "t:sections.slideshow.settings.image_aspect.option_2" }
        ],
        "default": "custom"
      },
      {
        "type": "range",
        "id": "desktop_height",
        "label": "t:sections.slideshow.settings.height.label",
        "unit": "%",
        "min": 50,
        "max": 100,
        "step": 5,
        "default": 100
      },
      {
        "type": "paragraph",
        "content": "t:sections.slideshow.settings.height_paragraph.content"
      },
      {
        "type": "range",
        "id": "duration_autoplay",
        "label": "t:sections.slideshow.settings.duration_autoplay.label",
        "unit": "s",
        "min": 0,
        "max": 10,
        "step": 2,
        "default": 6
      },
      {
        "id": "color_dot",
        "type": "color",
        "label":  "t:sections.slideshow.settings.color_dot.label",
        "default": "#fff"
      }
    ],
    "blocks": [
      {
        "type": "slide",
        "name": "t:sections.slideshow.blocks.slide.name",
        "limit": 5,
        "settings": [
          {
            "id": "desktop_image",
            "type": "image_picker",
            "label": "t:sections.slideshow.blocks.slide.settings.desktop_image.label"
          },
          {
            "id": "mobile_image",
            "type": "image_picker",
            "label": "t:sections.slideshow.blocks.slide.settings.mobile_image.label"
          },
          {
            "id": "focal_point",
            "type": "select",
            "label": "t:sections.slideshow.blocks.slide.settings.focal_point.label",
            "options": [
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__1.label", "value": "left_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__2.label", "value": "center_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__3.label", "value": "right_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__4.label", "value": "left_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__5.label", "value": "center_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__6.label", "value": "right_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__7.label", "value": "left_bottom" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__8.label", "value": "center_bottom" },
              { "label": "t:sections.slideshow.blocks.slide.settings.focal_point.options__9.label", "value": "right_bottom" }
            ],
            "default": "center_center"
          },
          {
            "id": "title",
            "type": "text",
            "label": "t:sections.slideshow.blocks.slide.settings.title.label",
            "default": "Slideshow"
          },
          {
            "id": "subheading",
            "type": "richtext",
            "label": "t:sections.slideshow.blocks.slide.settings.subheading.label",
            "default": "<p>Use this section to make a bold statement</p>"
          },
          {
            "id": "heading_text_size",
            "type": "range",
            "label": "t:sections.slideshow.blocks.slide.settings.heading_text_size.label",
            "unit": "px",
            "min": 38,
            "max": 72,
            "step": 2,
            "default": 54
          },
          {
            "id": "description_text_size",
            "type": "range",
            "label": "SubHeading size",
            "unit": "px",
            "min": 16,
            "max": 28,
            "step": 2,
            "default": 18
          },
          {
            "id": "description_text_size_mobile",
            "type": "range",
            "label": "SubHeading size for mobile",
            "unit": "px",
            "min": 16,
            "max": 28,
            "step": 2,
            "default": 24
          },
          {
            "id": "heading_text_size_mobile",
            "type": "range",
            "label": "Heading size for mobile",
            "unit": "px",
            "min": 24,
            "max": 42,
            "step": 2,
            "default": 36
          },
          {
            "type": "range",
            "id": "overlay_shadow",
            "label": "t:sections.slideshow.blocks.slide.settings.overlay_shadow.label",
            "unit": "%",
            "min": 0,
            "max": 60,
            "step": 5,
            "default": 10
          },
          {
            "id": "max_width_subheading",
            "type": "range",
            "label": "t:sections.slideshow.blocks.slide.settings.max_width_subheading.label",
            "min": 20,
            "max": 50,
            "step": 2,
            "default": 40
          },
          {
            "type": "range",
            "id": "header_margin_bottom",
            "label": "t:sections.slideshow.blocks.slide.settings.header_margin_bottom.label",
            "unit": "%",
            "min": 0,
            "max": 50,
            "step": 5,
            "default": 0
          },
           {
            "type": "range",
            "id": "subheader_margin_bottom",
            "label": "t:sections.slideshow.blocks.slide.settings.subheader_margin_bottom.label",
            "unit": "%",
            "min": 0,
            "max": 50,
            "step": 5,
            "default": 0
          },
          {
            "id": "link_text",
            "type": "text",
            "label": "t:sections.slideshow.blocks.slide.settings.link_text.label",
            "default": "Learn more"
          },
          {
            "id": "link",
            "type": "url",
            "label": "t:sections.slideshow.blocks.slide.settings.link.label"
          },
          {
            "id": "alignment",
            "type": "select",
            "label": "t:sections.slideshow.blocks.slide.settings.alignment.label",
            "options": [
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__1.label", "value": "left_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__2.label", "value": "center_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__3.label", "value": "right_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__4.label", "value": "left_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__5.label", "value": "center_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__6.label", "value": "right_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__7.label", "value": "left_bottom" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__8.label", "value": "center_bottom" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__9.label", "value": "right_bottom" }
            ],
            "default": "center_center"
          },
		  {
            "id": "alignment_mobile",
            "type": "select",
            "label": "Text alignment for mobile",
            "options": [
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__1.label", "value": "left_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__2.label", "value": "center_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__3.label", "value": "right_top" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__4.label", "value": "left_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__5.label", "value": "center_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__6.label", "value": "right_center" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__7.label", "value": "left_bottom" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__8.label", "value": "center_bottom" },
              { "label": "t:sections.slideshow.blocks.slide.settings.alignment.options__9.label", "value": "right_bottom" }
            ],
            "default": "center_center"
          },

          {
            "type": "select",
            "id": "header_alignment",
            "label": "t:sections.slideshow.blocks.slide.settings.header_alignment.label",
            "default": "left",
            "options": [
              {
                "value": "left",
                "label": "t:sections.slideshow.blocks.slide.settings.header_alignment.options__1"
              },
              {
                "value": "center",
                "label": "t:sections.slideshow.blocks.slide.settings.header_alignment.options__2"
              },
              {
                "value": "right",
                "label": "t:sections.slideshow.blocks.slide.settings.header_alignment.options__3"
              }
            ], 
			"default": "center"
          },
          {
            "type": "select",
            "id": "header_alignment_mobile",
            "label": "Header Alignment for mobile",
            "default": "left",
            "options": [
              {
                "value": "left",
                "label": "t:sections.slideshow.blocks.slide.settings.header_alignment.options__1"
              },
              {
                "value": "center",
                "label": "t:sections.slideshow.blocks.slide.settings.header_alignment.options__2"
              },
              {
                "value": "right",
                "label": "t:sections.slideshow.blocks.slide.settings.header_alignment.options__3"
              }
            ], 
			"default": "center"
          },
          {
            "type": "select",
            "id": "subheader_alignment",
            "label": "t:sections.slideshow.blocks.slide.settings.subheader_alignment.label",
            "default": "left",
            "options": [
              {
                "value": "left",
                "label": "t:sections.slideshow.blocks.slide.settings.subheader_alignment.options__1"
              },
              {
                "value": "center",
                "label": "t:sections.slideshow.blocks.slide.settings.subheader_alignment.options__2"
              },
              {
                "value": "right",
                "label": "t:sections.slideshow.blocks.slide.settings.subheader_alignment.options__3"
              }
            ],
			"default": "center"
          },
          {
            "type": "select",
            "id": "subheader_alignment_mobile",
            "label": "SubHeader Alignment for mobile",
            "default": "left",
            "options": [
              {
                "value": "left",
                "label": "t:sections.slideshow.blocks.slide.settings.subheader_alignment.options__1"
              },
              {
                "value": "center",
                "label": "t:sections.slideshow.blocks.slide.settings.subheader_alignment.options__2"
              },
              {
                "value": "right",
                "label": "t:sections.slideshow.blocks.slide.settings.subheader_alignment.options__3"
              }
            ],
			"default": "center"
          },
          {
            "id": "button_alignment",
            "type": "select",
            "label": "Button alignment",
            "options": [
              { "label": "Left", "value": "left" },
              { "label": "Center", "value": "center" },
              { "label": "Right", "value": "right" }
            ],
            "default": "center"
          },
		  {
            "id": "button_alignment_mobile",
            "type": "select",
            "label": "Button alignment for mobile",
            "options": [
              { "label": "Left", "value": "left" },
              { "label": "Center", "value": "center" },
              { "label": "Right", "value": "right" }
            ],
            "default": "center"
          },
          {
            "id": "with_bottom",
            "type": "checkbox",
            "label": "t:sections.slideshow.blocks.slide.settings.with_bottom.label",
            "default": true
          },
          {
            "id": "with_animation",
            "type": "checkbox",
            "label": "Display with animation",
            "default": true
          },
 			{
            "id": "display_under_image",
            "type": "checkbox",
            "label": "Display text under the image",
            "default": true
          },
          {
            "type": "header",
            "content": "t:sections.slideshow.blocks.slide.settings.header.content"
          },
          {
            "id": "color_text",
            "type": "color",
            "label": "t:sections.slideshow.blocks.slide.settings.color_text.label",
            "default": "#ffffff"
          },
			{
            "id": "color_text_under_image",
            "type": "color",
            "label": "text under image",
            "default": "#000"
          },
          {
            "id": "color_text_button",
            "type": "color",
            "label": "t:sections.slideshow.blocks.slide.settings.color_text_button.label",
            "default": "#181818"
          },
          {
            "id": "color_background_button",
            "type": "color",
            "label": "t:sections.slideshow.blocks.slide.settings.color_background_button.label",
            "default": "#FFFFFF"
          },
		{
            "id": "color_button_under_image",
            "type": "color",
            "label": "button under image",
            "default": "#fff"
          },
		{
            "id": "color_background_button_under_image",
            "type": "color",
            "label": "button background under image",
            "default": "#000"
          },
			
		  {
          "type": "range",
          "id": "button_border-radius",
          "label": "Border radius ",
          "unit": "px",
          "min": 0,
          "max": 26,
          "step": 1,
          "default": 15
      	  },
		{
            "id": "gradient_background",
            "type": "color_background",
            "label": "t:sections.image_with_text.settings.gradient.label"
      	},
          {
            "id": "color_overlay",
            "type": "color",
            "label": "t:sections.slideshow.blocks.slide.settings.color_overlay.label",
            "default": "#000"
          },
          {
            "type": "range",
            "id": "overlay_opacity",
            "label": "t:sections.slideshow.blocks.slide.settings.overlay_opacity.label",
            "unit": "%",
            "min": 0,
            "max": 100,
            "step": 1,
            "default": 30
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Enrollment-image-hero",
        "blocks": [
          {
            "type": "slide"
          },
          {
            "type": "slide"
          }
        ]
      }
    ]
  }
{% endschema %}